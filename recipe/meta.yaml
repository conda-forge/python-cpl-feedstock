{% set version = "0.7.2" %}

package:
  name: python-cpl
  version: {{ version }}

source:
  url: https://pypi.io/packages/source/p/python-cpl/python-cpl-{{ version }}.tar.gz
  sha256: 02139d6f3fbaaa29bfe9a1e6b247bd41b7423eacfa40c02ca441eb0560475cfb

build:
  number: 1002
  skip: true  # [win]
  script: "{{ PYTHON }} -m pip install . --no-deps -vv"

requirements:
  build:
    - {{ compiler('c') }}
  host:
    - python
    - pip
  run:
    - python
    - astropy

test:
  imports:
    - cpl

about:
  home: https://pypi.python.org/pypi/python-cpl
  license: GPL-2.0+
  license_file: COPYING
  license_family: GPL2
  summary: Python interface for the ESO Common Pipeline Library
  description: |
    This module can list, configure and execute CPL-based recipes from Python
    (python2 and python3).  The input, calibration and output data can be
    specified as FITS files or as astropy.io.fits objects in memory. The ESO
    Common Pipeline Library (CPL) comprises a set of ISO-C libraries that
    provide a comprehensive, efficient and robust software toolkit. It forms a
    basis for the creation of automated astronomical data-reduction tasks. One
    of the features provided by the CPL is the ability to create data-
    reduction algorithms that run as plugins (dynamic libraries). These are
    called "recipes" and are one of the main aspects of the CPL data-reduction
    development environment.
  doc_url: http://pythonhosted.org/python-cpl/
  dev_url: https://github.com/olebole/python-cpl

extra:
  recipe-maintainers:
    - mwcraig
    - bsipocz
    - olebole
